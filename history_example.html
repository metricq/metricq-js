<!doctype html>
<html>
  <head>
    <title>Getting Started</title>
  </head>
  <body>
    <script src="dist/metricq-history-285908b7859e63e636af.js" charset="utf-8"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment.min.js" charset="utf-8"></script>
    <script>
        window.addEventListener('load', event => {
            var mq = new MetricQHistory('https://grafana.metricq.zih.tu-dresden.de/metricq')

            mq.search('ariel.pow').then(matches => {
              console.log(matches)
              mq.query(moment().startOf('day'), moment(), 1000).target(matches[0]).run().then(data =>
                  console.log(data)
              ).catch(error =>
                console.log('Something went wrong: ' + error)
              )

              mq.query(moment().startOf('week'), moment(), 100).target(matches[0]).run().then(data =>
                  console.log(data)
              ).catch(error =>
                console.log('Something went wrong: ' + error)
              )

              mq.query(moment().startOf('hour'), moment(), 1).target(matches[0]).run().then(data =>
                  console.log(data)
              ).catch(error =>
                console.log('Something went wrong: ' + error)
              )
            }).catch(error =>
              console.log('Something went wrong: ' + error)
            )
        });
    </script>
  </body>
</html>
